language ESSENCE' 1.0

given n_colours: int(1..)
given n_orders: int(1..)
given col_per_slab: int(1..)
given n_orderSize: int(1..)
given nbSizes: int(1..)
given fin1: int
given ordSize_Function1D:
        matrix indexed by [int(1..n_orders)] of int(1..n_orderSize)
given fin2: int
given ordCol_Function1D:
        matrix indexed by [int(1..n_orders)] of int(1..n_colours)
find cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Marker:
        int(0..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1)))
find cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence:
        matrix indexed by [int(1..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1))),
                           int(1..n_orders)] of bool
find cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_2:
        matrix indexed by [int(1..2 ** (1 + (n_orders - 1)) *
                                  (1 + (nbSizes - 1)))] of int(1..nbSizes)
minimising
    sum([(q105 <=
          cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Marker)
         * cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_2[q105]
             | q105 : int(1..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1)))])
find aux1_ExplicitVarSizeWithMarker_Marker: int(0..2 ** (1 + (n_orders - 1)))
find aux1_ExplicitVarSizeWithMarker_Values_Occurrence:
        matrix indexed by [int(1..2 ** (1 + (n_orders - 1))), int(1..n_orders)] of bool
find aux2_ExplicitVarSizeWithMarker_Marker: int(0..2 ** (1 + (n_orders - 1)))
find aux2_ExplicitVarSizeWithMarker_Values_Occurrence:
        matrix indexed by [int(1..2 ** (1 + (n_orders - 1))), int(1..n_orders)] of bool
find aux3_ExplicitVarSizeWithMarker_Marker:
        matrix indexed by [int(1..n_orders)] of int(0..2 ** (1 + (n_orders - 1)))
find aux3_ExplicitVarSizeWithMarker_Values_Occurrence:
        matrix indexed by [int(1..n_orders), int(1..2 ** (1 + (n_orders - 1))),
                           int(1..n_orders)] of bool
find aux4_ExplicitVarSizeWithMarker_Marker: int(0..2 ** (1 + (n_orders - 1)))
find aux4_ExplicitVarSizeWithMarker_Values_Occurrence:
        matrix indexed by [int(1..2 ** (1 + (n_orders - 1))), int(1..n_orders)] of bool
find aux5_ExplicitVarSizeWithMarker_Marker: int(0..2 ** (1 + (n_orders - 1)))
find aux5_ExplicitVarSizeWithMarker_Values_Occurrence:
        matrix indexed by [int(1..2 ** (1 + (n_orders - 1))), int(1..n_orders)] of bool
such that
    and([q14 + 1 <= aux1_ExplicitVarSizeWithMarker_Marker ->
         aux1_ExplicitVarSizeWithMarker_Values_Occurrence[q14, ..] <lex
         aux1_ExplicitVarSizeWithMarker_Values_Occurrence[q14 + 1, ..]
             | q14 : int(1..2 ** (1 + (n_orders - 1)) - 1)]),
    and([q15 > aux1_ExplicitVarSizeWithMarker_Marker ->
         and([aux1_ExplicitVarSizeWithMarker_Values_Occurrence[q15, q107] = false
                  | q107 : int(1..n_orders)])
             | q15 : int(1..2 ** (1 + (n_orders - 1)))]),
    and([q19 <=
         cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Marker
         ->
         or([q42 <= aux1_ExplicitVarSizeWithMarker_Marker /\
             (and([aux1_ExplicitVarSizeWithMarker_Values_Occurrence[q42, q43] ->
                   cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q19,
                                                                                                      q43]
                       | q43 : int(1..n_orders)])
              /\
              and([cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q19,
                                                                                                      q44]
                   -> aux1_ExplicitVarSizeWithMarker_Values_Occurrence[q42, q44]
                       | q44 : int(1..n_orders)]))
                 | q42 : int(1..2 ** (1 + (n_orders - 1)))])
             | q19 : int(1..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1)))]),
    and([q20 <= aux1_ExplicitVarSizeWithMarker_Marker ->
         or([q21 <= cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Marker
             /\
             (and([cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q21,
                                                                                                      q45]
                   -> aux1_ExplicitVarSizeWithMarker_Values_Occurrence[q20, q45]
                       | q45 : int(1..n_orders)])
              /\
              and([aux1_ExplicitVarSizeWithMarker_Values_Occurrence[q20, q46] ->
                   cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q21,
                                                                                                      q46]
                       | q46 : int(1..n_orders)]))
                 | q21 : int(1..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1)))])
             | q20 : int(1..2 ** (1 + (n_orders - 1)))]),
    and([q25 + 1 <= aux2_ExplicitVarSizeWithMarker_Marker ->
         aux2_ExplicitVarSizeWithMarker_Values_Occurrence[q25, ..] <lex
         aux2_ExplicitVarSizeWithMarker_Values_Occurrence[q25 + 1, ..]
             | q25 : int(1..2 ** (1 + (n_orders - 1)) - 1)]),
    and([q26 > aux2_ExplicitVarSizeWithMarker_Marker ->
         and([aux2_ExplicitVarSizeWithMarker_Values_Occurrence[q26, q106] = false
                  | q106 : int(1..n_orders)])
             | q26 : int(1..2 ** (1 + (n_orders - 1)))]),
    and([q30 <=
         cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Marker
         ->
         or([q36 <= aux2_ExplicitVarSizeWithMarker_Marker /\
             (and([aux2_ExplicitVarSizeWithMarker_Values_Occurrence[q36, q37] ->
                   cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q30,
                                                                                                      q37]
                       | q37 : int(1..n_orders)])
              /\
              and([cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q30,
                                                                                                      q38]
                   -> aux2_ExplicitVarSizeWithMarker_Values_Occurrence[q36, q38]
                       | q38 : int(1..n_orders)]))
                 | q36 : int(1..2 ** (1 + (n_orders - 1)))])
             | q30 : int(1..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1)))]),
    and([q31 <= aux2_ExplicitVarSizeWithMarker_Marker ->
         or([q32 <= cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Marker
             /\
             (and([cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q32,
                                                                                                      q39]
                   -> aux2_ExplicitVarSizeWithMarker_Values_Occurrence[q31, q39]
                       | q39 : int(1..n_orders)])
              /\
              and([aux2_ExplicitVarSizeWithMarker_Values_Occurrence[q31, q40] ->
                   cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q32,
                                                                                                      q40]
                       | q40 : int(1..n_orders)]))
                 | q32 : int(1..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1)))])
             | q31 : int(1..2 ** (1 + (n_orders - 1)))]),
    and([and([q18 <= aux1_ExplicitVarSizeWithMarker_Marker,
              q29 <= aux2_ExplicitVarSizeWithMarker_Marker,
              or([aux1_ExplicitVarSizeWithMarker_Values_Occurrence[q18, q34] /\
                  !aux2_ExplicitVarSizeWithMarker_Values_Occurrence[q29, q34]
                      | q34 : int(1..n_orders)])
              \/
              or([aux2_ExplicitVarSizeWithMarker_Values_Occurrence[q29, q34] /\
                  !aux1_ExplicitVarSizeWithMarker_Values_Occurrence[q18, q34]
                      | q34 : int(1..n_orders)]); int(1..3)])
         ->
         sum([aux1_ExplicitVarSizeWithMarker_Values_Occurrence[q18, q33] /\
              aux2_ExplicitVarSizeWithMarker_Values_Occurrence[q29, q33]
                  | q33 : int(1..n_orders)])
         = 0 | q18 : int(1..2 ** (1 + (n_orders - 1))),
               q29 : int(1..2 ** (1 + (n_orders - 1)))]),
    and([and([q50 + 1 <= aux3_ExplicitVarSizeWithMarker_Marker[o] ->
              aux3_ExplicitVarSizeWithMarker_Values_Occurrence[o, q50, ..] <lex
              aux3_ExplicitVarSizeWithMarker_Values_Occurrence[o, q50 + 1, ..]
                  | q50 : int(1..2 ** (1 + (n_orders - 1)) - 1)])
             | o : int(1..n_orders)]),
    and([and([q51 > aux3_ExplicitVarSizeWithMarker_Marker[o] ->
              and([aux3_ExplicitVarSizeWithMarker_Values_Occurrence[q51, q109] = false
                       | q109 : int(1..n_orders)])
                  | q51 : int(1..2 ** (1 + (n_orders - 1)))])
             | o : int(1..n_orders)]),
    and([and([q55 <=
              cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Marker
              ->
              or([q59 <= aux3_ExplicitVarSizeWithMarker_Marker[o] /\
                  (and([aux3_ExplicitVarSizeWithMarker_Values_Occurrence[o, q59, q60] ->
                        cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q55,
                                                                                                           q60]
                            | q60 : int(1..n_orders)])
                   /\
                   and([cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q55,
                                                                                                           q61]
                        -> aux3_ExplicitVarSizeWithMarker_Values_Occurrence[o, q59, q61]
                            | q61 : int(1..n_orders)]))
                      | q59 : int(1..2 ** (1 + (n_orders - 1)))])
                  | q55 : int(1..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1)))])
             | o : int(1..n_orders)]),
    and([and([q56 <= aux3_ExplicitVarSizeWithMarker_Marker[o] ->
              or([q57 <= cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Marker
                  /\
                  (and([cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q57,
                                                                                                           q62]
                        -> aux3_ExplicitVarSizeWithMarker_Values_Occurrence[o, q56, q62]
                            | q62 : int(1..n_orders)])
                   /\
                   and([aux3_ExplicitVarSizeWithMarker_Values_Occurrence[o, q56, q63] ->
                        cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q57,
                                                                                                           q63]
                            | q63 : int(1..n_orders)]))
                      | q57 : int(1..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1)))])
                  | q56 : int(1..2 ** (1 + (n_orders - 1)))])
             | o : int(1..n_orders)]),
    and([or([q54 <= aux3_ExplicitVarSizeWithMarker_Marker[o] /\
             aux3_ExplicitVarSizeWithMarker_Values_Occurrence[o, q54, o]
                 | q54 : int(1..2 ** (1 + (n_orders - 1)))])
             | o : int(1..n_orders)]),
    and([q67 + 1 <= aux4_ExplicitVarSizeWithMarker_Marker ->
         aux4_ExplicitVarSizeWithMarker_Values_Occurrence[q67, ..] <lex
         aux4_ExplicitVarSizeWithMarker_Values_Occurrence[q67 + 1, ..]
             | q67 : int(1..2 ** (1 + (n_orders - 1)) - 1)]),
    and([q68 > aux4_ExplicitVarSizeWithMarker_Marker ->
         and([aux4_ExplicitVarSizeWithMarker_Values_Occurrence[q68, q110] = false
                  | q110 : int(1..n_orders)])
             | q68 : int(1..2 ** (1 + (n_orders - 1)))]),
    and([q72 <=
         cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Marker
         ->
         or([q78 <= aux4_ExplicitVarSizeWithMarker_Marker /\
             (and([aux4_ExplicitVarSizeWithMarker_Values_Occurrence[q78, q79] ->
                   cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q72,
                                                                                                      q79]
                       | q79 : int(1..n_orders)])
              /\
              and([cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q72,
                                                                                                      q80]
                   -> aux4_ExplicitVarSizeWithMarker_Values_Occurrence[q78, q80]
                       | q80 : int(1..n_orders)]))
                 | q78 : int(1..2 ** (1 + (n_orders - 1)))])
             | q72 : int(1..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1)))]),
    and([q73 <= aux4_ExplicitVarSizeWithMarker_Marker ->
         or([q74 <= cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Marker
             /\
             (and([cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q74,
                                                                                                      q81]
                   -> aux4_ExplicitVarSizeWithMarker_Values_Occurrence[q73, q81]
                       | q81 : int(1..n_orders)])
              /\
              and([aux4_ExplicitVarSizeWithMarker_Values_Occurrence[q73, q82] ->
                   cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q74,
                                                                                                      q82]
                       | q82 : int(1..n_orders)]))
                 | q74 : int(1..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1)))])
             | q73 : int(1..2 ** (1 + (n_orders - 1)))]),
    and([q71 <= aux4_ExplicitVarSizeWithMarker_Marker ->
         or([q9 <= cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Marker
             /\
             (and([cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q9,
                                                                                                      q75]
                   -> aux4_ExplicitVarSizeWithMarker_Values_Occurrence[q71, q75]
                       | q75 : int(1..n_orders)])
              /\
              and([aux4_ExplicitVarSizeWithMarker_Values_Occurrence[q71, q76] ->
                   cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q9,
                                                                                                      q76]
                       | q76 : int(1..n_orders)])
              /\
              cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_2[q9] >=
              sum([aux4_ExplicitVarSizeWithMarker_Values_Occurrence[q71, o] *
                   ordSize_Function1D[o]
                       | o : int(1..n_orders)]))
                 | q9 : int(1..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1)))])
             | q71 : int(1..2 ** (1 + (n_orders - 1)))]),
    and([q112 <=
         cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Marker
         ->
         sum([cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q112,
                                                                                                 o]
              * ordSize_Function1D[o]
                  | o : int(1..n_orders)])
         <= cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_2[q112]
             | q112 : int(1..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1)))]),
    and([q86 + 1 <= aux5_ExplicitVarSizeWithMarker_Marker ->
         aux5_ExplicitVarSizeWithMarker_Values_Occurrence[q86, ..] <lex
         aux5_ExplicitVarSizeWithMarker_Values_Occurrence[q86 + 1, ..]
             | q86 : int(1..2 ** (1 + (n_orders - 1)) - 1)]),
    and([q87 > aux5_ExplicitVarSizeWithMarker_Marker ->
         and([aux5_ExplicitVarSizeWithMarker_Values_Occurrence[q87, q113] = false
                  | q113 : int(1..n_orders)])
             | q87 : int(1..2 ** (1 + (n_orders - 1)))]),
    and([q91 <=
         cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Marker
         ->
         or([q95 <= aux5_ExplicitVarSizeWithMarker_Marker /\
             (and([aux5_ExplicitVarSizeWithMarker_Values_Occurrence[q95, q96] ->
                   cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q91,
                                                                                                      q96]
                       | q96 : int(1..n_orders)])
              /\
              and([cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q91,
                                                                                                      q97]
                   -> aux5_ExplicitVarSizeWithMarker_Values_Occurrence[q95, q97]
                       | q97 : int(1..n_orders)]))
                 | q95 : int(1..2 ** (1 + (n_orders - 1)))])
             | q91 : int(1..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1)))]),
    and([q92 <= aux5_ExplicitVarSizeWithMarker_Marker ->
         or([q93 <= cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Marker
             /\
             (and([cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q93,
                                                                                                      q98]
                   -> aux5_ExplicitVarSizeWithMarker_Values_Occurrence[q92, q98]
                       | q98 : int(1..n_orders)])
              /\
              and([aux5_ExplicitVarSizeWithMarker_Values_Occurrence[q92, q99] ->
                   cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q93,
                                                                                                      q99]
                       | q99 : int(1..n_orders)]))
                 | q93 : int(1..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1)))])
             | q92 : int(1..2 ** (1 + (n_orders - 1)))]),
    and([q90 <= aux5_ExplicitVarSizeWithMarker_Marker ->
         sum([aux5_ExplicitVarSizeWithMarker_Values_Occurrence[q90, o] *
              ordCol_Function1D[o]
                  | o : int(1..n_orders)])
         <= col_per_slab
             | q90 : int(1..2 ** (1 + (n_orders - 1)))]),
    and([q1 + 1 <=
         cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Marker
         ->
         cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q1,
                                                                                            ..]
         <lex
         cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q1
                                                                                            + 1,
                                                                                            ..]
         \/
         and([cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q1,
                                                                                                 q100]
              ->
              cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q1
                                                                                                 + 1,
                                                                                                 q100]
                  | q100 : int(1..n_orders)])
         /\
         and([cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q1
                                                                                                 + 1,
                                                                                                 q101]
              ->
              cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q1,
                                                                                                 q101]
                  | q101 : int(1..n_orders)])
         /\
         cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_2[q1] <
         cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_2[q1 + 1]
             | q1 : int(1..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1)) - 1)]),
    and([q2 > cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Marker
         ->
         and([cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q2,
                                                                                                 q114]
              = false
                  | q114 : int(1..n_orders)])
         /\
         cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_2[q2] = 1
             | q2 : int(1..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1)))]),
    and([1 >=
         sum([q10 <=
              cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Marker
              /\
              (and([cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q10,
                                                                                                       q102]
                    -> q5_Occurrence[q102]
                        | q102 : int(1..n_orders)])
               /\
               and([cut_FunctionAsRelation_RelationAsSet_ExplicitVarSizeWithMarker_Values_1_Occurrence[q10,
                                                                                                       q103]
                        | q103 : int(1..n_orders), q5_Occurrence[q103]]))
                  | q10 : int(1..2 ** (1 + (n_orders - 1)) * (1 + (nbSizes - 1)))])
             | q5_Occurrence : matrix indexed by [int(1..n_orders)] of bool])

