language ESSENCE' 1.0

given n: int(1..)
find alive_ExplicitVarSizeWithMarker_Marker:
        int(0..(1 + (n + 2 - 1)) * (1 + (n + 2 - 1)))
find alive_ExplicitVarSizeWithMarker_Values_1:
        matrix indexed by [int(1..(1 + (n + 2 - 1)) * (1 + (n + 2 - 1)))] of int(1..n +
                                                                                    2)
find alive_ExplicitVarSizeWithMarker_Values_2:
        matrix indexed by [int(1..(1 + (n + 2 - 1)) * (1 + (n + 2 - 1)))] of int(1..n +
                                                                                    2)
maximising alive_ExplicitVarSizeWithMarker_Marker
such that
    and([!or([q5 <= alive_ExplicitVarSizeWithMarker_Marker /\
              (alive_ExplicitVarSizeWithMarker_Values_1[q5] = q20_1 /\
               alive_ExplicitVarSizeWithMarker_Values_2[q5] = q20_2)
                  | q5 : int(1..(1 + (n + 2 - 1)) * (1 + (n + 2 - 1)))])
             | q20_1 : int(1..n + 2), q20_2 : int(1..n + 2),
               sum([1   | q8 : int(1..2),
                          or([[1, n + 2; int(1..2)][q11] = [q20_1, q20_2; int(1..2)][q8]
                                  | q11 : int(1..2)])])
               = 0]),
    and([q22 <= alive_ExplicitVarSizeWithMarker_Marker ->
         3 <=
         sum([or([q13 <= alive_ExplicitVarSizeWithMarker_Marker /\
                  (alive_ExplicitVarSizeWithMarker_Values_1[q13] =
                   alive_ExplicitVarSizeWithMarker_Values_1[q22] + i
                   /\
                   alive_ExplicitVarSizeWithMarker_Values_2[q13] =
                   alive_ExplicitVarSizeWithMarker_Values_2[q22] + j)
                      | q13 : int(1..(1 + (n + 2 - 1)) * (1 + (n + 2 - 1)))])
                  | i : int(-1..1), j : int(-1..1)])
         /\
         sum([or([q15 <= alive_ExplicitVarSizeWithMarker_Marker /\
                  (alive_ExplicitVarSizeWithMarker_Values_1[q15] =
                   alive_ExplicitVarSizeWithMarker_Values_1[q22] + i
                   /\
                   alive_ExplicitVarSizeWithMarker_Values_2[q15] =
                   alive_ExplicitVarSizeWithMarker_Values_2[q22] + j)
                      | q15 : int(1..(1 + (n + 2 - 1)) * (1 + (n + 2 - 1)))])
                  | i : int(-1..1), j : int(-1..1)])
         <= 4
             | q22 : int(1..(1 + (n + 2 - 1)) * (1 + (n + 2 - 1)))]),
    and([!or([q19 <= alive_ExplicitVarSizeWithMarker_Marker /\
              (alive_ExplicitVarSizeWithMarker_Values_1[q19] = q23_1 /\
               alive_ExplicitVarSizeWithMarker_Values_2[q19] = q23_2)
                  | q19 : int(1..(1 + (n + 2 - 1)) * (1 + (n + 2 - 1)))])
         ->
         sum([or([q17 <= alive_ExplicitVarSizeWithMarker_Marker /\
                  (alive_ExplicitVarSizeWithMarker_Values_1[q17] = q23_1 + i /\
                   alive_ExplicitVarSizeWithMarker_Values_2[q17] = q23_2 + j)
                      | q17 : int(1..(1 + (n + 2 - 1)) * (1 + (n + 2 - 1)))])
                  | i : int(-1..1), j : int(-1..1)])
         != 3
             | q23_1 : int(1..n + 2), q23_2 : int(1..n + 2)]),
    and([q1 + 1 <= alive_ExplicitVarSizeWithMarker_Marker ->
         alive_ExplicitVarSizeWithMarker_Values_1[q1] <
         alive_ExplicitVarSizeWithMarker_Values_1[q1 + 1]
         \/
         alive_ExplicitVarSizeWithMarker_Values_1[q1] =
         alive_ExplicitVarSizeWithMarker_Values_1[q1 + 1]
         /\
         alive_ExplicitVarSizeWithMarker_Values_2[q1] <
         alive_ExplicitVarSizeWithMarker_Values_2[q1 + 1]
             | q1 : int(1..(1 + (n + 2 - 1)) * (1 + (n + 2 - 1)) - 1)]),
    and([q2 > alive_ExplicitVarSizeWithMarker_Marker ->
         alive_ExplicitVarSizeWithMarker_Values_1[q2] = 1 /\
         alive_ExplicitVarSizeWithMarker_Values_2[q2] = 1
             | q2 : int(1..(1 + (n + 2 - 1)) * (1 + (n + 2 - 1)))])

