language ESSENCE' 1.0

given w: int(1..)
given g: int(1..)
given s: int(1..)
letting q1 be g * s
find sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Marker: matrix indexed by [int(1..w)] of int(0..2 ** (1 + (q1 - 1)))
find sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker:
        matrix indexed by [int(1..w), int(1..2 ** (1 + (q1 - 1)))] of int(0..1 + (q1 - 1))
find sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values:
        matrix indexed by [int(1..w), int(1..2 ** (1 + (q1 - 1))), int(1..1 + (q1 - 1))] of int(1..q1)
such that
    and([and([q8 <= sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Marker[q6] ->
              and([q9 <= sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Marker[q7] ->
                   sum([q14 <= sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q6, q8] /\
                        or([q15 <= sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q7, q9] /\
                            sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q7, q9, q15] =
                            sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q6, q8, q14]
                                | q15 : int(1..1 + (q1 - 1))])
                            | q14 : int(1..1 + (q1 - 1))])
                   < 2 | q9 : int(1..2 ** (1 + (q1 - 1)))])
                  | q8 : int(1..2 ** (1 + (q1 - 1)))])
             | q6 : int(1..w), q7 : int(1..w), q7 > q6]),
    and([sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Marker[q2] < sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Marker[q2 + 1] \/
         sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Marker[q2] = sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Marker[q2 + 1] /\
         (sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q2, ..] <lex
          sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q2 + 1, ..]
          \/
          and([sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q2, q13] =
               sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q2 + 1, q13]
                   | q13 : int(1..2 ** (1 + (q1 - 1)))])
          /\
          flatten(sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q2, .., ..]) <lex
          flatten(sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q2 + 1, .., ..]))
             | q2 : int(1..w - 1)]),
    and([and([1 >=
              sum([q5 <= sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Marker[q2] /\
                   or([q17 <= sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q2, q5] /\
                       sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q2, q5, q17] = q3
                           | q17 : int(1..1 + (q1 - 1))])
                       | q5 : int(1..2 ** (1 + (q1 - 1)))])
                  | q3 : int(1..q1)])
             | q2 : int(1..w)]),
    and([g =
         sum([(q10 <= sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Marker[q2]) *
              sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q2, q10]
                  | q10 : int(1..2 ** (1 + (q1 - 1)))])
             | q2 : int(1..w)]),
    and([and([q11 <= sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Marker[q2] /\ q12 <= sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Marker[q2]
              ->
              sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q2, q11] =
              sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q2, q12]
                  | q11 : int(1..2 ** (1 + (q1 - 1))), q12 : int(1..2 ** (1 + (q1 - 1)))])
             | q2 : int(1..w)]),
    and([and([q3 + 1 <= sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Marker[q2] ->
              sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q2, q3] <
              sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q2, q3 + 1]
              \/
              sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q2, q3] =
              sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q2, q3 + 1]
              /\
              sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q2, q3, ..] <lex
              sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q2, q3 + 1, ..]
                  | q3 : int(1..2 ** (1 + (q1 - 1)) - 1)])
             | q2 : int(1..w)]),
    and([and([q3 > sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Marker[q2] ->
              sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q2, q3] = 0 /\
              and([sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q2, q3, q16] = 1 | q16 : int(1..1 + (q1 - 1))])
                  | q3 : int(1..2 ** (1 + (q1 - 1)))])
             | q2 : int(1..w)]),
    and([and([q3 <= sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Marker[q2] ->
              and([q4 + 1 <= sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q2, q3] ->
                   sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q2, q3, q4] <
                   sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q2, q3, q4 + 1]
                       | q4 : int(1..1 + (q1 - 1) - 1)])
                  | q3 : int(1..2 ** (1 + (q1 - 1)))])
             | q2 : int(1..w)]),
    and([and([q3 <= sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Marker[q2] ->
              and([q4 > sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q2, q3] ->
                   sched_Explicit_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q2, q3, q4] = 1
                       | q4 : int(1..1 + (q1 - 1))])
                  | q3 : int(1..2 ** (1 + (q1 - 1)))])
             | q2 : int(1..w)])

$ Conjure's
$ {"finds": ["sched"],
$  "givens": ["w", "g", "s"],
$  "enumGivens": [],
$  "enumLettings": [],
$  "unnameds": [["Golfers", {"Reference": ["q1", null]}]],
$  "trailCompact": [[1, [1, 2, 3, 4, 5, 6]], [1, [1]], [1, [1, 2, 3, 4]], [1, [1]],
$                   [1, [1, 2, 3]], [1, [1]], [1, [1, 2]], [1, [1]],
$                   [1, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]], [1, [1]],
$                   [1, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]], [1, [1]],
$                   [1, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]], [1, [1]],
$                   [1, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]], [1, [1]],
$                   [1, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]], [1, [1]],
$                   [1, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]], [1, [1]],
$                   [1, [1, 2, 3, 4, 5, 6, 7, 8, 9]], [1, [1]], [1, [1, 2, 3, 4, 5, 6, 7, 8]],
$                   [1, [1]], [1, [1, 2, 3, 4, 5, 6, 7]], [1, [1]], [1, [1, 2, 3, 4, 5, 6]],
$                   [1, [1]], [1, [1, 2, 3, 4, 5]], [1, [1]], [1, [1, 2, 3, 4]], [1, [1]],
$                   [1, [1, 2, 3]], [1, [1]], [1, [1, 2]], [1, [1]], [1, [1]], [1, [1]],
$                   [1, [1, 2, 3, 4]], [1, [1]], [1, [1]], [1, [1]], [1, [1]], [1, [1]],
$                   [1, [1, 2, 3, 4, 5]], [1, [1]], [1, [1, 2, 3, 4, 5]], [1, [1]], [1, [1]],
$                   [1, [1]], [1, [1, 2, 3, 4]], [1, [1]], [1, [1, 2, 3, 4]], [1, [1]], [1, [1]],
$                   [1, [1]], [1, [1, 2, 3]], [1, [1]], [1, [1]], [1, [1]], [1, [1, 2]], [1, [1]],
$                   [1, [1]], [1, [1]], [1, [1, 2]], [1, [1]], [1, [1]], [1, [1]], [1, [1]],
$                   [1, [1]], [1, [1, 2]], [1, [1]], [1, [1]], [1, [1]], [1, [1, 2]], [1, [1]],
$                   [1, [1]], [1, [1]], [1, [1, 2, 3, 4]], [1, [1]], [1, [1, 2, 3, 4]], [1, [1]],
$                   [1, [1]], [1, [1]], [1, [1]], [1, [1]], [1, [1, 2, 3, 4]], [1, [1]], [1, [1]],
$                   [1, [1]], [1, [1]], [1, [1]], [1, [1, 2, 3]], [1, [1]], [1, [1, 2, 3]],
$                   [1, [1]], [1, [1]], [1, [1]], [1, [1]], [1, [1]], [1, [1, 2, 3]], [1, [1]],
$                   [1, [1, 2]], [1, [1]], [1, [1]], [1, [1]], [1, [1]], [1, [1]], [1, [1, 2]],
$                   [1, [1]], [1, [1]], [1, [1]], [1, [1]], [1, [1]], [1, [1]], [1, [1]], [1, [1]],
$                   [1, [1]], [1, [1]], [1, [1]], [1, [1, 2, 3, 4, 5, 6, 7, 8]], [1, [1]],
$                   [1, [1, 2, 3, 4, 5, 6, 7]], [1, [1]], [1, [1, 2, 3, 4, 5, 6]], [1, [1]],
$                   [1, [1, 2, 3, 4, 5]], [1, [1]], [1, [1, 2, 3, 4]], [1, [1]], [1, [1, 2, 3]],
$                   [1, [1]], [1, [1, 2]], [1, [1]], [1, [1, 2, 3]], [1, [1]], [1, [1, 2]],
$                   [1, [1]], [1, [1]], [1, [1]], [1, [1, 2]], [1, [1]], [1, [1]], [1, [1]],
$                   [1, [1, 2, 3, 4, 5, 6, 7, 8]], [1, [1]], [1, [1, 2, 3, 4, 5, 6, 7]], [1, [1]],
$                   [1, [1, 2, 3, 4, 5, 6]], [1, [1]], [1, [1]], [1, [1]], [1, [1, 2, 3, 4, 5]],
$                   [1, [1]], [1, [1, 2, 3, 4]], [1, [1]], [1, [1]], [1, [1]], [1, [1, 2, 3]],
$                   [1, [1]], [1, [1, 2]], [1, [1]], [1, [1]], [1, [1]], [1, [1, 2, 3, 4, 5, 6, 7]],
$                   [1, [1]], [1, [1, 2, 3, 4, 5, 6]], [1, [1]], [1, [1, 2, 3, 4, 5]], [1, [1]],
$                   [1, [1, 2, 3, 4]], [1, [1]], [1, [1, 2, 3]], [1, [1]], [1, [1, 2]], [1, [1]],
$                   [1, [1]], [1, [1]]],
$  "trailVerbose": [],
$  "representations": [["g",
$                       {"DomainInt": [{"RangeLowerBounded": {"Constant": {"ConstantInt": 1}}}]}],
$                      ["s", {"DomainInt": [{"RangeLowerBounded": {"Constant": {"ConstantInt": 1}}}]}],
$                      ["w", {"DomainInt": [{"RangeLowerBounded": {"Constant": {"ConstantInt": 1}}}]}],
$                      ["sched",
$                       {"DomainSet": [{"HasRepresentation": "Explicit"},
$                                      {"SizeAttr_Size": {"Reference": ["w",
$                                                                       {"DeclHasRepr": ["Given", "w",
$                                                                                        {"DomainInt": [{"RangeLowerBounded": {"Constant": {"ConstantInt": 1}}}]}]}]}},
$                                      {"DomainPartition": [{"HasRepresentation": "PartitionAsSet"},
$                                                           {"isComplete": false,
$                                                            "isRegular": true,
$                                                            "participantsSize": {"SizeAttr_Size": {"Reference": ["g",
$                                                                                                                 {"DeclHasRepr": ["Given",
$                                                                                                                                  "g",
$                                                                                                                                  {"DomainInt": [{"RangeLowerBounded": {"Constant": {"ConstantInt": 1}}}]}]}]}},
$                                                            "partsNum": {"SizeAttr_None": []},
$                                                            "partsSize": {"SizeAttr_None": []}},
$                                                           {"DomainInt": [{"RangeBounded": [{"Constant": {"ConstantInt": 1}},
$                                                                                            {"Reference": ["q1",
$                                                                                                           {"Alias": {"Op": {"MkOpProduct": {"AbstractLiteral": {"AbsLitMatrix": [{"DomainInt": [{"RangeBounded": [{"Constant": {"ConstantInt": 1}},
$                                                                                                                                                                                                                   {"Constant": {"ConstantInt": 2}}]}]},
$                                                                                                                                                                                  [{"Reference": ["g",
$                                                                                                                                                                                                  {"DeclHasRepr": ["Given",
$                                                                                                                                                                                                                   "g",
$                                                                                                                                                                                                                   {"DomainInt": [{"RangeLowerBounded": {"Constant": {"ConstantInt": 1}}}]}]}]},
$                                                                                                                                                                                   {"Reference": ["s",
$                                                                                                                                                                                                  {"DeclHasRepr": ["Given",
$                                                                                                                                                                                                                   "s",
$                                                                                                                                                                                                                   {"DomainInt": [{"RangeLowerBounded": {"Constant": {"ConstantInt": 1}}}]}]}]}]]}}}}}]}]}]}]}]}]],
$  "representationsTree": [["g",
$                           {"rootLabel": null,
$                            "subForest": []}],
$                          ["s",
$                           {"rootLabel": null,
$                            "subForest": []}],
$                          ["w",
$                           {"rootLabel": null,
$                            "subForest": []}],
$                          ["sched",
$                           {"rootLabel": {"HasRepresentation": "Explicit"},
$                            "subForest": [{"rootLabel": {"HasRepresentation": "PartitionAsSet"},
$                                           "subForest": [{"rootLabel": null,
$                                                          "subForest": []}]}]}]],
$  "originalDomains": [["w",
$                       {"DomainInt": [{"RangeLowerBounded": {"Constant": {"ConstantInt": 1}}}]}],
$                      ["g", {"DomainInt": [{"RangeLowerBounded": {"Constant": {"ConstantInt": 1}}}]}],
$                      ["s", {"DomainInt": [{"RangeLowerBounded": {"Constant": {"ConstantInt": 1}}}]}],
$                      ["sched",
$                       {"DomainSet": [[], {"SizeAttr_Size": {"Reference": ["w", null]}},
$                                      {"DomainPartition": [[],
$                                                           {"isComplete": false,
$                                                            "isRegular": true,
$                                                            "participantsSize": {"SizeAttr_Size": {"Reference": ["g",
$                                                                                                                 null]}},
$                                                            "partsNum": {"SizeAttr_None": []},
$                                                            "partsSize": {"SizeAttr_None": []}},
$                                                           {"DomainReference": ["Golfers", null]}]}]}]]}